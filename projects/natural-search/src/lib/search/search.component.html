<div class="groupWrapper" *ngFor="let groupSelections of selections; let i = index; let last = last">

    <natural-group [groupSelections]="groupSelections" [configurations]="configurations"
                   (groupSelectionsChange)="setGroupSelection($event, i)"></natural-group>

    <button mat-icon-button *ngIf="selections.length > 1" (click)="removeGroup(i)">
        <mat-icon>remove</mat-icon>
    </button>

    <button mat-icon-button *ngIf="last && allowGroups" (click)="addGroup()">
        <mat-icon>add</mat-icon>
    </button>

    <!-- Spaceholder-->
    <button mat-icon-button *ngIf="!last">
        <mat-icon></mat-icon>
    </button>

</div>
